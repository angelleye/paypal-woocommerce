jQuery(function(o){return"undefined"!=typeof angelleye_in_content_param&&(t(),_(),n(),l(),o(document.body).on("cart_totals_refreshed updated_shipping_method wc_fragments_refreshed updated_checkout updated_wc_div updated_cart_totals wc_fragments_loaded",function(e){t()}),"no"===angelleye_in_content_param.checkout_page_disable_smart_button&&o(document.body).on("updated_shipping_method wc_fragments_refreshed updated_checkout",function(e){window.paypalCheckoutReady=function(){var e,n=[],t=[];n.push(".angelleye_smart_button_checkout_bottom"),t=o.parseJSON(angelleye_in_content_param.disallowed_funding_methods),e=o.parseJSON(angelleye_in_content_param.allowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&t.push("credit"),angelleye_cart_style_object={size:angelleye_in_content_param.button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.button_label,layout:angelleye_in_content_param.button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},void 0!==angelleye_in_content_param.button_height&&""!==angelleye_in_content_param.button_height&&(angelleye_cart_style_object.height=parseInt(angelleye_in_content_param.button_height)),n.forEach(function(n){if(o(n).html(""),t=o.grep(t,function(e){return"venmo"!==e}),0<n.length&&0<o(n).length&&("horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:e,disallowed:t},payment:function(){var e=o(n).closest("form").add(o('<input type="hidden" name="request_from" /> ').attr("value","JSv4")).add(o('<input type="hidden" name="from_checkout" /> ').attr("value","yes")).serialize();return paypal.request({method:"post",url:angelleye_in_content_param.set_express_checkout,body:e}).then(function(e){return e.token})},onAuthorize:function(n,t){o(".woocommerce").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){"no"===angelleye_in_content_param.is_pre_checkout_offer?(n.returnUrl=e.url,t.redirect()):(o(".woocommerce").unblock(),o("form.checkout").triggerHandler("checkout_place_order"))})},onCancel:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_oncancel"),window.location.href=window.location.href},onClick:function(){o(document.body).trigger("angelleye_paypal_onclick"),"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&o.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"paypal_button_click"})},onError:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_onerror"),window.location.href=window.location.href}},n)),"angelleye_smart_button_checkout_bottom"===n)return!1})}}),o(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(){var e=o(".angelleye_smart_button_mini");e.length&&(e.empty(),_());e=o(".angelleye_button_single");e.length&&(e.empty(),n());e=o(".angelleye_smart_button_wsc");e.length&&(e.empty(),l())}),void("no"===angelleye_in_content_param.checkout_page_disable_smart_button&&(o(document.body).on("updated_checkout wc-credit-card-form-init update_checkout",function(e){c()}),o("form.checkout").on("click",'input[name="payment_method"]',function(){c()}),o("form.checkout").on("click",'input[name="wc-paypal_express-payment-token"]',function(){"new"===o(this).val()?(o("#place_order").hide(),o(".angelleye_smart_button_checkout_bottom").show()):"new"!==o(this).val()&&(o("#place_order").show(),o(".angelleye_smart_button_checkout_bottom").hide())}))));function a(){var e=angelleye_in_content_param.disallowed_funding_methods;return null===e&&(e=[]),!(-1<o.inArray("card",e))}function n(){0<o(".angelleye_button_single").length&&(o(".angelleye_button_single").empty(),window.paypalCheckoutReady=function(){allowed_funding_methods_single_array=o.parseJSON(angelleye_in_content_param.allowed_funding_methods),disallowed_funding_methods_single_array=o.parseJSON(angelleye_in_content_param.disallowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&disallowed_funding_methods_single_array.push("credit");angelleye_cart_style_object={size:angelleye_in_content_param.button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.button_label,layout:angelleye_in_content_param.button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},"horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),void 0!==angelleye_in_content_param.button_height&&""!==angelleye_in_content_param.button_height&&(angelleye_cart_style_object.height=parseInt(angelleye_in_content_param.button_height)),o(".angelleye_button_single").empty(),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:allowed_funding_methods_single_array,disallowed:disallowed_funding_methods_single_array},payment:function(e,n){var t,a=o("[name='add-to-cart']").val();return o("<input>",{type:"hidden",name:"angelleye_ppcp-add-to-cart",value:a}).appendTo("form.cart"),t=o("form.cart").serialize(),a=angelleye_in_content_param.add_to_cart_ajaxurl,o("#wc-paypal_express-new-payment-method").is(":checked")&&(a+="&ec_save_to_account=true"),paypal.request.post(a,t).then(function(e){return paypal.request.post(e.url,{request_from:"JSv4"}).then(function(e){return e.token})})},onAuthorize:function(n,t){o(".woocommerce").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){n.returnUrl=e.url,t.redirect()})},onCancel:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_oncancel"),window.location.href=window.location.href},onClick:function(){o(document.body).trigger("angelleye_paypal_onclick"),"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&o.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"button_click"})},onError:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_onerror"),window.location.href=angelleye_in_content_param.cancel_page}},".angelleye_button_single")})}function t(){window.paypalCheckoutReady=function(){var n,e=[],t=[];"yes"==angelleye_in_content_param.is_checkout&&"yes"==angelleye_in_content_param.is_display_on_checkout&&e.push(".angelleye_smart_button_checkout_top"),"yes"==angelleye_in_content_param.is_cart&&("both"==angelleye_in_content_param.cart_button_possition?e.push(".angelleye_smart_button_top",".angelleye_smart_button_bottom"):"bottom"==angelleye_in_content_param.cart_button_possition?e.push(".angelleye_smart_button_bottom"):"top"==angelleye_in_content_param.cart_button_possition&&e.push(".angelleye_smart_button_top")),t=o.parseJSON(angelleye_in_content_param.disallowed_funding_methods),n=o.parseJSON(angelleye_in_content_param.allowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&t.push("credit"),angelleye_cart_style_object={size:angelleye_in_content_param.button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.button_label,layout:angelleye_in_content_param.button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},void 0!==angelleye_in_content_param.button_height&&""!==angelleye_in_content_param.button_height&&(angelleye_cart_style_object.height=parseInt(angelleye_in_content_param.button_height)),e.forEach(function(e){if(o(e).html(""),t=o.grep(t,function(e){return"venmo"!==e}),0<e.length&&0<o(e).length&&("horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:n,disallowed:t},payment:function(){var e=angelleye_in_content_param.set_express_checkout;return(o("#wc-paypal_express-new-payment-method").is(":checked")||o("#wc-paypal_express-new-payment-method_bottom").is(":checked"))&&(e+="&ec_save_to_account=true"),paypal.request.post(e,{request_from:"JSv4"}).then(function(e){return e.token})},onAuthorize:function(n,t){o(".woocommerce").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){n.returnUrl=e.url,t.redirect()})},onCancel:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_oncancel"),window.location.href=window.location.href},onClick:function(){o(document.body).trigger("angelleye_paypal_onclick"),"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&o.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"paypal_button_click"})},onError:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_onerror"),window.location.href=angelleye_in_content_param.cancel_page}},e)),"angelleye_smart_button_checkout_top"===e)return!1})}}function _(){window.paypalCheckoutReady=function(){var n,e=[],t=[];e.push(".angelleye_smart_button_mini"),t=o.parseJSON(angelleye_in_content_param.mini_cart_disallowed_funding_methods),n=o.parseJSON(angelleye_in_content_param.mini_cart_allowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&t.push("credit"),angelleye_cart_style_object={size:angelleye_in_content_param.mini_cart_button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.mini_cart_button_label,layout:angelleye_in_content_param.mini_cart_button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},void 0!==angelleye_in_content_param.mini_cart_button_height&&""!==angelleye_in_content_param.mini_cart_button_height&&(angelleye_cart_style_object.height=parseInt(angelleye_in_content_param.mini_cart_button_height)),e.forEach(function(e){o(e).html(""),t=o.grep(t,function(e){return"venmo"!==e}),0<e.length&&0<o(e).length&&(angelleye_cart_style_object.size="responsive","horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:n,disallowed:t},payment:function(){var e=angelleye_in_content_param.set_express_checkout;return o("#wc-paypal_express-new-payment-method").is(":checked")&&(e+="&ec_save_to_account=true"),paypal.request.post(e,{request_from:"JSv4"}).then(function(e){return e.token})},onAuthorize:function(n,t){o(".woocommerce").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){n.returnUrl=e.url,t.redirect()})},onCancel:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_oncancel"),window.location.href=window.location.href},onClick:function(){o(document.body).trigger("angelleye_paypal_onclick"),"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&o.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"paypal_button_click"})},onError:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_onerror"),window.location.href=angelleye_in_content_param.cancel_page}},e))})}}function l(){window.paypalCheckoutReady=function(){var n,e=[],t=[];e.push(".angelleye_smart_button_wsc"),t=o.parseJSON(angelleye_in_content_param.wsc_cart_disallowed_funding_methods),n=o.parseJSON(angelleye_in_content_param.wsc_cart_allowed_funding_methods),"no"==angelleye_in_content_param.is_paypal_credit_enable&&t.push("credit"),angelleye_cart_style_object={size:angelleye_in_content_param.wsc_cart_button_size,color:angelleye_in_content_param.button_color,shape:angelleye_in_content_param.button_shape,label:angelleye_in_content_param.wsc_cart_button_label,layout:angelleye_in_content_param.wsc_cart_button_layout,tagline:"true"===angelleye_in_content_param.button_tagline},void 0!==angelleye_in_content_param.wsc_cart_button_height&&""!==angelleye_in_content_param.wsc_cart_button_height&&(angelleye_cart_style_object.height=parseInt(angelleye_in_content_param.wsc_cart_button_height)),e.forEach(function(e){o(e).html(""),t=o.grep(t,function(e){return"venmo"!==e}),0<e.length&&0<o(e).length&&(angelleye_cart_style_object.size="responsive","horizontal"===angelleye_in_content_param.button_layout&&!0===a()&&"credit"!==angelleye_in_content_param.button_label&&"true"===angelleye_in_content_param.button_fundingicons&&(angelleye_cart_style_object.fundingicons="true"===angelleye_in_content_param.button_fundingicons),paypal.Button.render({env:angelleye_in_content_param.environment,style:angelleye_cart_style_object,locale:angelleye_in_content_param.locale,commit:"false"!==angelleye_in_content_param.zcommit,funding:{allowed:n,disallowed:t},payment:function(){var e=angelleye_in_content_param.set_express_checkout;return o("#wc-paypal_express-new-payment-method").is(":checked")&&(e+="&ec_save_to_account=true"),paypal.request.post(e,{request_from:"JSv4"}).then(function(e){return e.token})},onAuthorize:function(n,t){o(".woocommerce").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var e={paymentToken:n.paymentToken,payerID:n.payerID,token:n.paymentToken,request_from:"JSv4"};paypal.request.post(n.returnUrl,e).then(function(e){n.returnUrl=e.url,t.redirect()})},onCancel:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_oncancel"),window.location.href=window.location.href},onClick:function(){o(document.body).trigger("angelleye_paypal_onclick"),"yes"===angelleye_in_content_param.enable_google_analytics_click&&"undefined"!=typeof ga&&o.isFunction(ga)&&ga("send",{hitType:"event",eventCategory:"Checkout",eventAction:"paypal_button_click"})},onError:function(e,n){o(".woocommerce").unblock(),o(document.body).trigger("angelleye_paypal_onerror"),window.location.href=angelleye_in_content_param.cancel_page}},e))})}}function c(){var e=o("#payment_method_paypal_express").is(":checked");0<o('input[name="wc-paypal_express-payment-token"]:checked').length?e&&o('input[name="wc-paypal_express-payment-token"]').length&&"new"===o('input[name="wc-paypal_express-payment-token"]:checked').val()?(o("#place_order").hide(),o(".angelleye_smart_button_checkout_bottom").show()):e&&o('input[name="wc-paypal_express-payment-token"]').length&&"new"!==o('input[name="wc-paypal_express-payment-token"]:checked').val()?(o("#place_order").show(),o(".angelleye_smart_button_checkout_bottom").hide()):e?(o(".angelleye_smart_button_checkout_bottom").show(),o("#place_order").hide()):(o(".angelleye_smart_button_checkout_bottom").hide(),o("#place_order").show()):e?(o(".angelleye_smart_button_checkout_bottom").show(),o("#place_order").hide()):(o(".angelleye_smart_button_checkout_bottom").hide(),o("#place_order").show())}});